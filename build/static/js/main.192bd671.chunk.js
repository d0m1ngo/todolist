(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(t,e,n){t.exports=n(45)},32:function(t,e,n){},34:function(t,e,n){},36:function(t,e,n){},39:function(t,e,n){},41:function(t,e,n){},43:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),c=n(18),i=n.n(c),r=n(5),u=n(13),l=n(47),d=n(46),s=n(12),h=function(t,e){switch(e.type){case"ADD_TODO":return Object(s.a)({},t,{inputValue:""});case"CHECK_TODO":var n=t.todoArr.slice(),a=n.filter(function(t){return t.id===e.id});return a[0].done=!a[0].done,Object(s.a)({},t,{todoArr:n});case"DELETE_TODO":case"UPDATE_TODO":return Object(s.a)({},t);case"GET_STATE":return Object(s.a)({},t,{todoArr:e.data});case"INPUT_CHANGE":return Object(s.a)({},t,{inputValue:e.text});case"SET_URL":return console.log(e.url),Object(s.a)({},t);default:return t}},p=(n(32),n(6)),f=n(7),b=n(9),m=n(8),O=n(10),j=(n(34),n(48)),E=(n(36),function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"filter"},o.a.createElement(j.a,{to:"All",className:"filter__nav"},"All"),o.a.createElement(j.a,{to:"Checked",className:"filter__nav"},"Checked"),o.a.createElement(j.a,{to:"Unchecked",className:"filter__nav"},"Unchecked"))}}]),e}(a.Component)),_=Object(r.b)(function(t){return{value:t.inputValue}},function(t){return{getState:function(){return t()}}})(E),C=n(2),v=(n(39),function(t){fetch("/todo").then(function(t){return t.json()}).then(function(e){t(function(t){return{type:"GET_STATE",data:t}}(e))}).catch(alert)}),k=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(m.a)(e).call(this,t))).handleChange=n.handleChange.bind(Object(C.a)(Object(C.a)(n))),n.handleClick=n.handleClick.bind(Object(C.a)(Object(C.a)(n))),n}return Object(O.a)(e,t),Object(f.a)(e,[{key:"handleChange",value:function(t){this.props.inputChange(t.target.value)}},{key:"handleClick",value:function(){this.props.addItem(this.props.value)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("input",{className:"input__input",onChange:this.handleChange,value:this.props.value}),o.a.createElement("button",{className:"input__button",onClick:this.handleClick},"add todo"))}}]),e}(a.Component),y=Object(r.b)(function(t){return{value:t.inputValue}},function(t){return{addTodo:function(){return t({type:"ADD_TODO"})},inputChange:function(e){return t(function(t){return{type:"INPUT_CHANGE",text:t}}(e))},addItem:function(e){return function(t,e){var n={id:parseInt(Date.now()+Math.random()),text:t,done:!1};fetch("/todo",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"post",body:JSON.stringify(n)}).then(function(t){return e({type:"ADD_TODO"}),t}).then(function(t){v(e),console.log(t)})}(e,t)}}})(k),T=(n(41),n(43),function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(m.a)(e).call(this,t))).state={update:!1,text:n.props.text},n.handleChangeChk=n.handleChangeChk.bind(Object(C.a)(Object(C.a)(n))),n.handleDeleteButton=n.handleDeleteButton.bind(Object(C.a)(Object(C.a)(n))),n.handleUpdateButton=n.handleUpdateButton.bind(Object(C.a)(Object(C.a)(n))),n.handleCancelButton=n.handleCancelButton.bind(Object(C.a)(Object(C.a)(n))),n.hadleInputChange=n.hadleInputChange.bind(Object(C.a)(Object(C.a)(n))),n.handleSaveButton=n.handleSaveButton.bind(Object(C.a)(Object(C.a)(n))),n}return Object(O.a)(e,t),Object(f.a)(e,[{key:"handleChangeChk",value:function(){this.props.updateTodoCheckBtn(this.props.id,this.props.text,!this.props.done)}},{key:"handleDeleteButton",value:function(){this.props.deleteTodo(this.props.id)}},{key:"handleUpdateButton",value:function(){this.setState({update:!0})}},{key:"handleCancelButton",value:function(){this.setState({update:!1,text:this.props.text})}},{key:"hadleInputChange",value:function(t){this.setState({text:t.target.value})}},{key:"handleSaveButton",value:function(){this.props.updateTodoCheckBtn(this.props.id,this.state.text,this.props.done),this.setState({update:!1,text:this.state.text})}},{key:"render",value:function(){var t,e,n=this.props,a=n.id,c=n.text,i=n.done;return e=i?"todoitem__text todoitem__text--line":"todoitem__text",t=this.state.update?o.a.createElement("div",{className:"todoitem","data-id":a},o.a.createElement("input",{value:this.state.text,onChange:this.hadleInputChange}),o.a.createElement("button",{className:"todoitem__button",onClick:this.handleSaveButton},"save"),o.a.createElement("button",{className:"todoitem__button",onClick:this.handleCancelButton},"cancel")):o.a.createElement("div",{className:"todoitem","data-id":a},o.a.createElement("p",{className:e},c),o.a.createElement("input",{type:"checkbox",className:"todoitem__checkbox",defaultChecked:i,onChange:this.handleChangeChk}),o.a.createElement("button",{className:"todoitem__button todoitem_button__update",onClick:this.handleUpdateButton},"update"),o.a.createElement("button",{className:"todoitem__button",onClick:this.handleDeleteButton},"delete")),o.a.createElement("div",null,t)}}]),e}(a.Component)),g=Object(r.b)(function(t){return t},function(t){return{deleteTodo:function(e){return function(t,e){fetch("/todo/".concat(t),{method:"DELETE"}).then(function(t){return e({type:"DELETE_TODO"}),t}).then(function(t){v(e),console.log(t)})}(e,t)},updateTodoCheckBtn:function(e,n,a){return function(t,e,n,a){var o={text:e,done:n};fetch("/todo/".concat(t),{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(o)}).then(function(t){return t}).then(function(t){a({type:"UPDATE_TODO"}),v(a),console.log(t)})}(e,n,a,t)}}})(T),D=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){console.log(this.props.filter);var t,e=this.props.todoArr;switch(this.props.filter){case"/Unchecked":t=e.map(function(t){if(!1===t.done)return o.a.createElement(g,{text:t.text,done:t.done,id:t.id,key:t.id})});break;case"/Checked":t=e.map(function(t){if(!0===t.done)return o.a.createElement(g,{text:t.text,done:t.done,id:t.id,key:t.id})});break;case"/All":t=e.map(function(t){return o.a.createElement(g,{text:t.text,done:t.done,id:t.id,key:t.id})});break;default:return"Nothing"}return o.a.createElement("div",{className:"todolist"},t)}}]),e}(a.Component),x=Object(r.b)(function(t){return{todoArr:t.todoArr}})(D),N=function(t){function e(){return Object(p.a)(this,e),Object(b.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(O.a)(e,t),Object(f.a)(e,[{key:"componentWillMount",value:function(){this.props.getState()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(_,null),o.a.createElement(y,null),o.a.createElement(x,{filter:this.props.match.url}))}}]),e}(a.Component),A=Object(r.b)(function(t){return{value:t.inputValue}},function(t){return{getState:function(){return v(t)}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=Object(u.b)(h,{todoArr:[],inputValue:""},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(o.a.createElement(r.a,{store:B},o.a.createElement(l.a,null,o.a.createElement(d.a,{path:"/:filter?",component:A}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.192bd671.chunk.js.map